// src/contexts/LanguageContext.jsx
import React, { createContext, useContext, useState, useEffect } from 'react';

// Language constants
export const LANGUAGES = {
    ENGLISH: 'en',
    HEBREW: 'he'
};

// Properly nested translations object
const translations = {
    en: {
        nav: {
            dashboard: 'Dashboard',
            eventManagement: 'Event Management',
            userManagement: 'User Management',
            forms: 'Forms',
            backupSync: 'Backup/Sync',
            importExport: 'Import/Export Data',
            gallery: 'Gallery',
            myAccount: 'My Account',
            signOut: 'Sign Out',
            logo: 'ParaGrutaRally',
            events: 'Events',
            users: 'Users',
            kids: 'Kids',
            teams: 'Teams',
            vehicles: 'Vehicles',
            analytics: 'Analytics'
        },

        dashboard: {
            title: 'Admin Dashboard',
            totalUsers: 'Total Users',
            upcomingEvents: 'Upcoming Events',
            totalKids: 'Total Kids',
            activeTeams: 'Active Teams',
            recentActivities: 'Recent Activities',
            newUser: 'New user',
            wasAdded: 'was added',
            event: 'Event',
            wasCreated: 'was created',
            newPhotos: 'new photos',
            wereAdded: 'were added to the gallery',
            racingReady: 'Racing Ready',
            racingVehicles: 'Racing Vehicles',
            available: 'Available',
            systemUsers: 'System Users',
            autoRefresh: 'Dashboard updates automatically every 5 minutes',
            teamCreated: 'Team <strong>{teamName}</strong> was created.',
            justNow: 'Just now',
            minutesAgo: '{count} minute{plural} ago',
            hoursAgo: '{count} hour{plural} ago',
            daysAgo: '{count} day{plural} ago',
            fetchError: 'Failed to load dashboard data. Please try again.',
            scheduled: 'Scheduled',
            registered: 'Registered',
            noRecentActivities: 'No recent activities found.',
            activitiesWillAppear: 'Activities will appear here as users interact with the system.',
            noUpcomingEvents: 'No upcoming events scheduled.',
            createFirstEvent: 'Create your first event to get started!',
            wasUpdated: 'was updated',
            user: 'User',
            kid: 'Kid',
            team: 'Team',
            vehicle: 'Vehicle',
            newKid: 'New kid',
            newVehicle: 'New vehicle',
            statusChanged: 'status changed to',
            welcomeMessage: 'Welcome to your racing dashboard! Activities will appear here as you use the system.'
        },

        events: {
            title: 'Event Management',
            createNew: 'Create New Event',
            searchPlaceholder: 'Search events...',
            search: 'Search',
            allEvents: 'All Events',
            upcoming: 'Upcoming Events',
            completed: 'Completed Events',
            allLocations: 'All Locations',
            jerusalem: 'Jerusalem',
            telAviv: 'Tel Aviv',
            haifa: 'Haifa',
            eilat: 'Eilat',
            eventName: 'Event Name',
            date: 'Date',
            location: 'Location',
            participants: 'Participants',
            status: 'Status',
            actions: 'Actions',
            edit: 'Edit',
            view: 'View',
            delete: 'Delete',
            loading: 'Loading events...',
            noEvents: 'No events found',
            previous: 'Previous',
            next: 'Next',
            addNewEvent: 'Add New Event',
            exportEvents: 'Export Events',
            totalEvents: 'Total Events',
            completedEvents: 'Completed Events',
            eventInfo: 'Event Info',
            eventsLowercase: 'events',
            showing: 'Showing',
            searchLabel: 'Search',
            unnamedEvent: 'Unnamed Event',
            noDescription: 'No description available',
            locationTBD: 'Location TBD',
            dateTBD: 'Date TBD',
            fetchError: 'Failed to load events. Please try again.',
            noGalleryFolder: 'This event does not have a gallery folder.',
            deleteSuccess: 'Event "{eventName}" deleted successfully',
            includingGallery: 'including gallery photos',
            deleteFailed: 'Failed to delete event: {error}',
            deleteError: 'Failed to delete event. Please try again.',
            noEventsCreated: 'No events have been created yet. Start by creating your first event!',
            createFirstEvent: 'Create First Event',
            createNewEvent: 'Create New Event',
            hasGallery: 'Has Gallery',
            viewDetails: 'View Details',
            editEvent: 'Edit Event',
            viewGallery: 'View Gallery',
            deleteEvent: 'Delete Event',
            description: 'Description',
            notes: 'Notes',
            participatingTeams: 'Participating Teams',
            teamsRegistered: '{count} teams registered',
            gallery: 'Gallery',
            deleteConfirmTitle: 'Are you sure you want to delete this event?',
            deleteConfirmMessage: 'You are about to delete "{eventName}". This action cannot be undone.',
            deletionSummaryTitle: 'The following will be permanently deleted:',
            eventInformation: 'Event information and details',
            eventCoverImage: 'Event cover image',
            allGalleryPhotos: 'All photos in the event gallery',
            galleryFolderDetected: 'Gallery Folder Detected',
            galleryFolderQuestion: 'This event has an associated photo gallery. What would you like to do with the photos?',
            keepGalleryPhotos: 'Keep Gallery Photos',
            keepGalleryDescription: 'Delete only the event, preserve all photos in the gallery',
            deleteGalleryToo: 'Delete Gallery Too',
            deleteGalleryDescription: 'Delete the event AND permanently remove all photos from the gallery',
            deleting: 'Deleting...',
            deleteEventAndGallery: 'Delete Event & Gallery',
            deleteEventOnly: 'Delete Event Only',
            upcomingEvents: 'Upcoming Events',
            timeTBD: 'Time TBD',
            addressTBD: 'Address TBD',
            organizerTBD: 'TBD',
            eventNotFound: 'Event not found',
            loadError: 'Failed to load event. Please try again.',
            loadingEvent: 'Loading event...',
            backToEvents: 'Back to Events',
            racingEventDetails: 'Racing Event Details!',
            eventInformationSubtitle: 'Event information and details',
            eventDetails: 'Event Details',
            time: 'Time',
            organizer: 'Organizer',
            fullAddress: 'Full Address',
            additionalNotes: 'Additional Notes',
            loadingTeamData: 'Loading team data...',
            unknownTeam: 'Unknown Team',
            leader: 'Leader',
            kidsInTeam: 'Kids in team',
            eventGallery: 'Event Gallery',
            eventAlbum: '{eventName} Album',
            viewManagePhotos: 'View and manage photos from this event',
            cancelled: 'Cancelled',
            editRacingEvent: 'Edit Racing Event',
            loadingEventData: 'Loading event data...',
            racingEvent: 'Racing Event',
            racingEventDescription: 'Competitive racing event with winners',
            newFamiliesEvent: 'New Families Event',
            newFamiliesEventDescription: 'Welcome new families with a fun racing day',
            socialEvent: 'Social Event',
            socialEventDescription: 'Community gathering and activities',
            basicInformation: 'Basic Information',
            eventNamePlaceholder: 'e.g., Summer Racing Championship 2025',
            requiredField: '*Required field',
            eventType: 'Event Type',
            descriptionPlaceholder: 'Describe your racing event in detail...',
            organizerPlaceholder: 'Event organizer name',
            dateAndTime: 'Date & Time',
            eventDate: 'Event Date',
            eventTime: 'Event Time',
            futureDateTime: '*Event date and time must be in the future',
            locationDetails: 'Location Details',
            locationName: 'Location Name',
            locationPlaceholder: 'e.g., Jerusalem Racing Park',
            addressPlaceholder: 'Complete address of the event',
            teamsAssigned: '{count} team{plural} assigned',
            addTeams: 'Add Teams',
            removeTeam: 'Remove team',
            noTeamsAssigned: 'No teams assigned to this event yet.',
            addTeamsHint: 'Click "Add Teams" to assign teams to participate.',
            eventImage: 'Event Image',
            eventImageOptional: 'Event Image (Optional)',
            clickToUpload: 'Click to upload event image',
            imageRecommendation: 'Recommended: 1200x600px, JPG or PNG',
            cancelNewImage: 'Cancel New Image',
            clickToChange: 'Click to change image',
            additionalDetails: 'Additional Details',
            notesOptional: 'Notes (Optional)',
            notesPlaceholder: 'Additional notes about the event...',
            updateEvent: 'Update Event',
            uploadingImage: 'Uploading Image...',
            updatingEvent: 'Updating Event...',
            imageUploadWarning: 'Warning: Failed to upload new image, but event will be updated with other changes.',
            additionalNotesDefault: 'Additional notes about the event',
            updateSuccess: 'Event updated successfully!',
            updateError: 'Error updating event: {error}'
        },

        users: {
            title: 'User Management',
            manage: 'Manage Users',
            description: 'This page will contain user management functionality including:',
            viewAll: 'View all users',
            addNew: 'Add new users',
            editProfiles: 'Edit user profiles',
            manageRoles: 'Manage user roles',
            permissions: 'User permissions',
            addNewUser: 'Add New User',
            exportUsers: 'Export Users',
            createNewUser: 'Create New User',
            totalUsers: 'Total Users',
            admins: 'Admins',
            instructors: 'Instructors',
            parents: 'Parents',
            admin: 'Admin',
            instructor: 'Instructor',
            parent: 'Parent',
            host: 'Host',
            searchPlaceholder: 'Search users by name or email...',
            filterByRole: 'Filter by Role',
            allRoles: 'All Roles',
            clearFilters: 'Clear Filters',
            showing: 'Showing',
            usersLowercase: 'users',
            filteredBy: 'Filtered by',
            searching: 'Searching',
            loadingUsers: 'Loading users...',
            noUsersFound: 'No users found',
            createFirstUser: 'Start by creating your first user.',
            searchInUsers: 'Search in users',
            clearSearch: 'Clear search',
            searchResults: '{count} of {total} users',
            totalUsersCount: '{count} users total',
            sortByDisplayName: 'Click to sort by Display Name',
            sortByFullName: 'Click to sort by Full Name',
            sortByEmail: 'Click to sort by Email',
            sortByPhone: 'Click to sort by Phone',
            sortByRole: 'Click to sort by Role',
            sortByCreatedDate: 'Click to sort by Created Date',
            sortByLastLogin: 'Click to sort by Last Login',
            displayName: 'Display Name',
            fullName: 'Full Name',
            email: 'Email',
            phone: 'Phone',
            role: 'Role',
            createdAt: 'Created At',
            lastLogin: 'Last Login',
            actions: 'Actions',
            updateUser: 'Update user',
            update: 'Update',
            noSearchResults: 'No users match your search: "{searchTerm}"',
            clearSearchButton: 'Clear Search',
            editUser: 'Edit User',
            displayNameRequired: 'Display name is required',
            nameRequired: 'Name is required',
            phoneRequired: 'Phone number is required',
            roleRequired: 'Role is required',
            updateError: 'Failed to update user. Please try again.',
            displayNamePlaceholder: 'Enter display name',
            emailAddress: 'Email Address',
            emailCannotChange: 'Email cannot be changed',
            emailLinkedToAuth: 'Email cannot be changed as it\'s linked to authentication',
            fullNamePlaceholder: 'Enter full name',
            phoneNumber: 'Phone Number',
            phoneNumberPlaceholder: 'Enter phone number',
            updating: 'Updating...',
            updateUserButton: 'Update User'
        },

        teams: {
            title: 'Teams Management',
            addNewTeam: 'Add New Team',
            refresh: 'Refresh',
            exportTeams: 'Export Teams',
            totalTeams: 'Total Teams',
            activeTeams: 'Active Teams',
            teamsWithoutKids: 'Teams without Kids',
            teamsWithKids: 'Teams with Kids',
            searchPlaceholder: 'Search by team name or instructor...',
            clearAll: 'Clear All',
            showing: 'Showing',
            of: 'of',
            teams: 'teams',
            priorityFilter: 'PRIORITY: Teams without kids',
            status: 'Status',
            capacity: 'Capacity',
            allStatus: 'All Status',
            active: 'Active',
            inactive: 'Inactive',
            allTeams: 'All Teams',
            emptyTeams: 'Empty Teams',
            availableSpots: 'Available Spots',
            fullTeams: 'Full Teams',
            teamInfo: 'Team Info',
            instructor: 'Instructor',
            members: 'Members',
            actions: 'Actions',
            noInstructor: 'No Instructor',
            loadingTeams: 'Loading teams...',
            noTeamsFound: 'No teams found',
            adjustFilters: 'Try adjusting your search or filters',
            addFirstTeam: 'Add First Team',
            reset: 'Reset',
            permissionError: 'Permission Error',
            reloadPage: 'Reload Page',
            tryAgain: 'Try Again',
            deleteConfirm: 'Are you sure you want to delete {teamName}? This action cannot be undone.',
            cannotDelete: 'Cannot delete {teamName} because it has {memberCount} members. Please move the kids to other teams first.',
            deleteSuccess: '{teamName} has been deleted successfully!',
            deleteFailed: 'Failed to delete team. Please try again.',
            onlyAdminsCanDelete: 'Only administrators can delete teams.',
            viewDetails: 'View Details',
            editTeam: 'Edit Team',
            deleteTeam: 'Delete Team',
            unlimited: 'Unlimited',
            hasInstructor: 'Has Instructor',
            membersCount: '{current}/{max}',
            empty: 'Empty',
            available: 'Available',
            full: 'Full',
            unnamedTeam: 'Unnamed Team',
            loadError: 'Failed to load teams',
            editFunctionality: 'Edit functionality for {teamName} would go here.',
            updateRacingTeam: 'Update Racing Team!',
            loadingTeamData: 'Loading team data...',
            teamNotFound: 'Team not found!',
            loadDataError: 'Failed to load team data. Please try again.',
            updateSuccess: '🏁 Team "{teamName}" has been updated successfully! 🏎️',
            updateError: 'Failed to update team. Please try again.',
            viewingCurrentInfo: 'You\'re viewing Team {teamName}\'s current information. Make changes below to update! 🏎️',
            backToTeams: 'Back to Teams',
            teamIdentity: '🏎️ Team Identity',
            racingInstructors: '👨‍🏫 Racing Instructors',
            teamRacers: '🏎️ Team Racers ({current}/{max})',
            teamNotes: '📝 Team Notes',
            teamName: 'Team Name',
            teamNamePlaceholder: 'Thunder Racers, Speed Demons, Lightning Bolts...',
            maxRacers: 'Max Racers',
            teamDescription: 'Team Description',
            teamDescriptionPlaceholder: 'What makes this team special? Their racing spirit, teamwork, or special skills...',
            teamStatus: 'Team Status',
            activeReady: '✅ Active & Ready to Race',
            inactivePrep: '⏸️ Inactive (Prep Mode)',
            focusIndicator: '← Update Here!',
            noInstructorsAvailable: 'No instructors available. Add some instructors first!',
            teamLeader: 'Team Leader',
            chooseTeamLeader: '🎯 Choose Team Leader',
            leaderOption: '👑 {instructorName}',
            capacityWarning: 'Capacity Warning',
            noKidsAvailable: 'No kids available for assignment! 🎉',
            allKidsAssigned: 'All kids are already assigned to teams.',
            currentlyInOtherTeam: '📍 Currently in other team',
            nameRequired: 'Team name is required',
            capacityRange: 'Max capacity must be between 1 and 50',
            tooManyKids: 'Cannot assign more kids ({current}) than max capacity ({max})',
            specialNotesStrategy: '📝 Special Notes & Strategy',
            notesPlaceholder: 'Team strategy, special requirements, or any other important notes...',
            updatingTeam: 'Updating Team...',
            saveUpdates: 'Save Updates! 🏁',
            noChangesToSave: 'No Changes to Save',
            racingTeamProfile: 'Racing Team Profile!',
            meetAmazingRacingSquad: 'Meet the amazing racing squad! 🏁',
            loadingRacingTeamData: 'Loading racing team data...',
            teamNotFoundView: 'Team not found!',
            loadTeamDataError: 'Failed to load team data. Please try again.',
            deleteTeamConfirm: 'Are you sure you want to delete team "{teamName}"? This action cannot be undone.',
            teamDisbanded: 'Team "{teamName}" has been disbanded.',
            deleteTeamError: 'Failed to delete team. Please try again.',
            onlyAdminsCanDeleteTeams: 'Only administrators can delete teams.',
            activeRacing: '✅ Active',
            inactiveStatus: '⏸️ Inactive',
            readyToRaceAndConquer: 'Ready to race and conquer the track!',
            racersCount: '{count} Racers',
            readyCount: '{count} Ready',
            instructorsCount: '{count} Instructors',
            maxCapacity: 'Max: {capacity}',
            teamDetails: '🏎️ Team Details',
            teamNameLabel: '🏁 Team Name',
            statusLabel: '📊 Status',
            activeAndRacing: '✅ Active & Racing',
            inactiveTeam: '⏸️ Inactive',
            teamCapacityLabel: '👥 Team Capacity',
            capacityDisplay: '{current} / {max} racers',
            teamDescriptionLabel: '📝 Team Description',
            defaultTeamDescription: 'This team is ready to race and show their amazing skills on the track!',
            specialNotes: '🗒️ Special Notes',
            createdLabel: '📅 Created',
            unknownDate: 'Unknown',
            racingCoaches: '👨‍🏫 Racing Coaches',
            teamLeaderLabel: 'Team Leader',
            noInstructorsAssignedYet: 'No instructors assigned yet',
            teamRacersWithCount: '🏎️ Team Racers ({current}/{max})',
            readyToRace: 'Ready to Race',
            gettingReady: 'Getting Ready',
            totalRacers: 'Total Racers',
            noRacersAssignedYet: 'No racers assigned yet!',
            waitingForKidsToJoin: 'This team is waiting for some amazing kids to join the race! 🏎️',
            assignRacers: 'Assign Racers',
            racingStar: 'Racing Star',
            statusInfo: 'Status: {status}',
            // Team selection options format
            teamOption: '🏁 {teamName} ({memberCount} members)'
        },

        kids: {
            title: 'Kids Management',
            addNewKid: 'Add New Kid',
            refresh: 'Refresh',
            exportKids: 'Export Kids',
            kidsWithoutTeams: 'Kids without Teams',
            totalKids: 'Total Kids',
            yourKids: 'Your Kids',
            activeKids: 'Active Kids',
            kidsWithTeams: 'Kids with Teams',
            searchPlaceholder: 'Search by kid name or parent name...',
            clearAll: 'Clear All',
            showing: 'Showing',
            of: 'of',
            kids: 'kids',
            priorityFilter: 'PRIORITY: Kids without teams',
            teamStatus: 'Team Status',
            allKids: 'All Kids',
            noTeam: 'No Team',
            withTeam: 'With Team',
            allStatus: 'All Status',
            pending: 'Pending',
            completed: 'Completed',
            cancelled: 'Cancelled',
            active: 'Active',
            kidInfo: 'Kid Info',
            photo: 'Photo',
            age: 'Age',
            team: 'Team',
            status: 'Status',
            actions: 'Actions',
            loadingKids: 'Loading kids...',
            noKidsFound: 'No kids found',
            noKidsRegistered: 'No kids registered under your account',
            adjustFilters: 'Try adjusting your search or filters',
            addFirstKid: 'Add First Kid',
            assignTeam: 'Assign Team',
            changeTeam: 'Change Team',
            deleteConfirm: 'Are you sure you want to delete {kidName}? This action cannot be undone.',
            deleteSuccess: '{kidName} has been deleted successfully!',
            deleteFailed: 'Failed to delete kid. Please try again.',
            onlyAdminsCanDelete: 'Only administrators can delete kids.',
            teamChanged: '{kidName} has been {action} {teamName}',
            assignedTo: 'assigned to',
            removedFrom: 'removed from team',
            updated: '{kidName} has been updated successfully!',
            name: 'Name',
            parentName: 'Parent',
            participantNumber: 'Participant #',
            viewDetails: 'View Details',
            editKid: 'Edit Kid',
            deleteKid: 'Delete Kid',
            clickToView: 'Click to view details',
            reset: 'Reset',
            permissionError: 'Permission Error',
            reloadPage: 'Reload Page',
            tryAgain: 'Try Again',
            loadingPermissions: 'Loading permissions...'
        },

        editKid: {
            title: 'Update {firstName}\'s Info!',
            titleGeneric: 'Update Racer\'s Info!',
            backToProfile: 'Back to Profile',
            loadingRacerData: 'Loading racer data...',
            error: 'Error',
            backToKids: 'Back to Kids',
            editingInfo: 'You\'re editing {firstName}\'s information. Make changes below to update! 🏎️',
            editingInfoGeneric: 'You\'re editing this racer\'s information. Make changes below to update! 🏎️',
            kidNotFound: 'Kid not found!',
            noPermission: 'You do not have permission to edit this kid.',
            loadError: 'Failed to load kid data. Please try again.',
            updateSuccess: '🎉 {firstName} has been updated successfully! 🏎️',
            updateSuccessGeneric: '🎉 Racer has been updated successfully! 🏎️',
            updateError: 'Failed to update kid: {error}',
            photoUploadError: 'Photo upload failed: {error}. The kid will be updated without the new photo.',
            vehicleAssignmentError: 'Failed to update vehicle assignment. Please try again.',
            photoError: 'Failed to remove photo. Please try again.',
            commentError: 'Failed to add comment. Please try again.',
            focusIndicator: '← Update Here!',
            racerProfile: '🏎️ Racer Profile',
            superPowersSkills: '💪 Super Powers & Skills',
            racingFamilyInfo: '👨‍👩‍👧‍👦 Racing Family Info',
            teamVehicleAssignment: '🏎️ Team & Vehicle Assignment',
            racingStatusForms: '📋 Racing Status & Forms',
            racingNotesCommunication: '💬 Racing Notes & Team Communication',
            racingPhoto: '📸 Racing Photo',
            changePhoto: 'Change',
            uploadPhoto: 'Upload',
            removePhoto: 'Remove',
            photoRequirements: '📸 Update racing photo! (Max 5MB, JPEG/PNG)',
            raceNumber: '🏁 Race Number',
            raceNumberPlaceholder: '001',
            firstName: '👤 First Name',
            firstNamePlaceholder: 'Future champion\'s first name',
            lastName: '👨‍👩‍👧‍👦 Last Name',
            lastNamePlaceholder: 'Racing family name',
            birthday: '🎂 Birthday',
            homeBaseLocation: '🏠 Home Base Location',
            homeBaseLocationPlaceholder: 'Where our racer calls home',
            amazingAbilities: '🌟 Amazing Abilities',
            amazingAbilitiesPlaceholder: 'Tell us about this racer\'s awesome skills and abilities!',
            announcerNotes: '📢 Announcer\'s Special Notes',
            announcerNotesPlaceholder: 'Fun facts to share during the race!',
            parentGuardianName: '👤 Parent/Guardian Name',
            emailAddress: '📧 Email Address',
            phoneNumber: '📱 Phone Number',
            grandparentsNames: '👵👴 Grandparents Names',
            grandparentsNamesPlaceholder: 'Racing legends in the family',
            grandparentsPhone: '☎️ Grandparents Phone',
            grandparentsPhonePlaceholder: 'Backup racing support',
            racingTeam: 'Racing Team',
            noTeamAssigned: '🚫 No Team Assigned (Yet!)',
            teamOption: '🏁 {teamName} ({memberCount} racers)',
            racingInstructor: 'Racing Instructor',
            noInstructorAssigned: '👨‍🏫 No Instructor Assigned',
            instructorOption: '🏎️ {instructorName}',
            racingVehicleAssignment: 'Racing Vehicle Assignment',
            assignedVehicle: 'Assigned Vehicle',
            noVehicleAssigned: '🚫 No Vehicle Assigned',
            vehicleOption: '🏎️ {make} {model} ({licensePlate})',
            currentAssignment: 'Current Assignment:',
            viewVehicleDetails: 'View Vehicle Details',
            formStatus: 'Form Status',
            formStatusOptions: {
                pending: '⏳ Pending - Getting Ready',
                completed: '✅ Completed - Ready to Race!',
                needs_review: '🔍 Needs Review',
                cancelled: '❌ Cancelled'
            },
            healthDeclarationSigned: '🛡️ Health Declaration Signed',
            noTeamNotesYet: 'No team notes yet. Be the first to add one!',
            addTeamNote: 'Add Team Note',
            commentPlaceholder: 'Add a note about this racer\'s progress, behavior, or any important information...',
            cancel: 'Cancel',
            addNote: 'Add Note',
            adding: 'Adding...',
            additionalRacingNotes: '🗒️ Additional Racing Notes',
            additionalRacingNotesPlaceholder: 'Any special notes about our racing star!',
            cancelButton: 'Cancel',
            saveUpdates: 'Save Updates! 🏁',
            uploadingPhoto: 'Uploading Photo...',
            updatingRacer: 'Updating Racer...',
            required: '*',
            requiredField: '* Required field',
            validation: {
                fixErrors: 'Please fix the following errors:'
            },
            lockedField: 'This field cannot be edited',
            // photoUploadError: {
            //     invalidType: 'Please upload a JPEG, PNG, or WebP image file.',
            //     tooLarge: 'Photo file size must be less than 5MB.',
            //     processingFailed: 'Failed to process photo. Please try again.'
            // }
        },


        addKid: {
            // Copy the same formStatusOptions from editKid
            formStatusOptions: {
                pending: '⏳ Pending - Getting Ready',
                completed: '✅ Completed - Ready to Race!',
                needs_review: '🔍 Needs Review',
                cancelled: '❌ Cancelled'
            },
            // Add other translations as needed
            title: 'Add A New Kid',
            backToKids: 'Back to Kids',
            subtitle: 'Let\'s get this future champion on the track! 🏁',
        },

        viewKid: {
            racingStarProfile: 'Racing Star Profile!',
            meetOurRacer: 'Meet our amazing racer! 🏁',
            loadingRacingStarData: 'Loading racing star data...',
            kidNotFound: 'Kid not found!',
            noPermissionView: 'You do not have permission to view this kid.',
            loadDataError: 'Failed to load kid data. Please try again.',
            deleteConfirm: 'Are you sure you want to delete {kidName}? This action cannot be undone.',
            deleteSuccess: '{kidName} has been removed from the racing program.',
            deleteFailed: 'Failed to delete kid. Please try again.',
            deletePermissionDenied: 'You do not have permission to delete this kid.',
            nameRestricted: 'Name Restricted',
            kidNumber: 'Kid #{number}',
            ageLabel: 'Age: {age}',
            teamLabel: 'Team: {teamName}',
            vehicleLabel: 'Vehicle: {make} {model}',
            personalProfile: '🏎️ {firstName}\'s Profile',
            racingPhoto: '📸 Racing Photo',
            photoUploaded: '✅ Uploaded',
            noPhotoUploaded: '📷 No photo uploaded',
            homeBase: '🏠 Home Base',
            superPowersAbilities: '🌟 Super Powers & Abilities',
            announcerNotes: '📢 Announcer Notes',
            familyInfo: '👨‍👩‍👧‍👦 {firstName}\'s Family',
            parentGuardian: '👤 Parent/Guardian',
            email: '📧 Email',
            phone: '📱 Phone',
            grandparents: '👵👴 Grandparents',
            grandparentsPhone: '☎️ Grandparents Phone',
            teamVehicleInfo: '🏎️ {firstName}\'s Team & Vehicle',
            team: '🏁 Team',
            noTeamAssigned: 'No Team Assigned',
            formStatus: '📋 Form Status',
            safetyDeclaration: '🛡️ Safety Declaration',
            signed: '✅ Signed',
            pending: '⏳ Pending',
            racingVehicleAssignment: 'Racing Vehicle Assignment',
            noVehicleAssigned: 'No Vehicle Assigned',
            readyForAssignment: 'Ready for assignment!',
            licensePlate: 'License Plate:',
            type: 'Type:',
            battery: 'Battery:',
            status: 'Status:',
            vehicleActive: '✅ Active',
            vehicleInactive: '❌ Inactive',
            viewVehicle: 'View Vehicle',
            notesComments: '💬 {firstName}\'s Notes & Comments',
            parentComments: '👨‍👩‍👧‍👦 Parent Comments',
            organizationComments: '🏢 Organization Comments',
            teamLeaderComments: '👨‍🏫 Team Leader Comments',
            additionalNotes: '🗒️ Additional Notes',
            teamNotesHistory: '👨‍🏫 Team Notes History',
            noComments: 'No comments',
            noAdditionalNotes: 'No additional notes'
        },

        vehicles: {
            title: 'Racing Vehicles',
            addVehicle: 'Add Vehicle',
            addNewVehicle: 'Add New Vehicle',
            refresh: 'Refresh',
            exportVehicles: 'Export Vehicles',
            totalVehicles: 'Total Vehicles',
            activeVehicles: 'Active Vehicles',
            inUse: 'In Use',
            available: 'Available',
            inFleet: 'In Fleet',
            readyToRace: 'Ready to Race',
            currentlyRacing: 'Currently Racing',
            readyForAssignment: 'Ready for Assignment',
            searchPlaceholder: 'Search by make, model, license plate, or team...',
            searchVehicles: 'Search Vehicles',
            clearSearch: 'Clear Search',
            teamFilter: 'Team',
            statusFilter: 'Status',
            allTeams: 'All Teams',
            unassigned: 'Unassigned',
            allStatus: 'All Status',
            active: 'Active',
            inactive: 'Inactive',
            showing: 'Showing',
            of: 'of',
            vehicles: 'vehicles',
            matching: 'matching',
            inTeam: 'in team',
            withStatus: 'with status',
            loadingVehicles: 'Loading vehicles...',
            noVehiclesFound: 'No Vehicles Found',
            noVehiclesMatch: 'No vehicles match your current filters.',
            noVehiclesAdded: 'No vehicles have been added yet.',
            addFirstVehicle: 'Add First Vehicle',
            failedToLoad: 'Failed to load vehicles. Please try again.',
            table: {
                vehicle: 'Vehicle',
                team: 'Team',
                licensePlate: 'License Plate',
                status: 'Status',
                currentUser: 'Current User',
                battery: 'Battery',
                actions: 'Actions'
            },
            status: {
                active: 'Active',
                inactive: 'Inactive',
                inUse: 'In Use',
                available: 'Available',
                assigned: 'Assigned'
            },
            actions: {
                view: 'View',
                edit: 'Edit',
                delete: 'Delete',
                viewVehicle: 'View Vehicle',
                editVehicle: 'Edit Vehicle',
                deleteVehicle: 'Delete Vehicle'
            },
            make: 'Make',
            model: 'Model',
            driveType: 'Drive Type',
            steeringType: 'Steering Type',
            batteryType: 'Battery Type',
            photo: 'Photo',
            noPhoto: 'No Photo',
            unknownTeam: 'Unknown Team',
            notAvailable: 'N/A',
            delete: {
                confirm: 'Are you sure you want to delete {vehicleName}?',
                warningAssigned: 'WARNING: This vehicle is currently assigned to a racer. Deleting it will remove the assignment.',
                cannotUndo: 'This action cannot be undone.',
                success: '{vehicleName} has been successfully deleted.',
                failed: 'Failed to delete {vehicleName}: {error}',
                noPermission: 'You do not have permission to delete vehicles.'
            },
            deleting: 'Deleting...',
            mobile: {
                licensePlate: 'License Plate',
                currentUser: 'Current User',
                battery: 'Battery',
                team: 'Team'
            },
            permissions: {
                noPermissionEdit: 'You do not have permission to edit vehicles.',
                noPermissionDelete: 'You do not have permission to delete vehicles.',
                onlyAdminsCanDelete: 'Only administrators can delete vehicles.'
            }
        },

        viewVehicle: {
            title: '{make} {model}',
            backToVehicles: 'Back to Vehicles',
            loadingVehicleDetails: 'Loading vehicle details...',
            vehicleNotFound: 'Vehicle not found',
            failedToLoadVehicle: 'Failed to load vehicle details. Please try again.',
            error: 'Error',
            editVehicle: 'Edit Vehicle',
            licensePlateLabel: 'License Plate:',
            vehiclePhoto: 'Vehicle Photo',
            statusInformation: 'Status Information',
            vehicleInformation: 'Vehicle Information',
            technicalSpecifications: 'Technical Specifications',
            currentAssignment: 'Current Assignment',
            modificationsNotes: 'Modifications & Notes',
            usageHistory: 'Usage History',
            recordInformation: 'Record Information',
            noPhotoAvailable: 'No photo available',
            status: {
                active: 'Active',
                inactive: 'Inactive',
                inUse: 'In Use',
                available: 'Available',
                inactiveDescription: 'This vehicle is currently inactive',
                inUseDescription: 'Currently assigned to a racer',
                availableDescription: 'Ready for assignment'
            },
            battery: {
                good: 'Good',
                monitor: 'Monitor',
                needsAttention: 'Needs Attention',
                unknown: 'Unknown',
                error: 'Error',
                goodDescription: 'Battery is in good condition',
                monitorDescription: 'Battery should be monitored',
                needsAttentionDescription: 'Battery is over 6 months old',
                unknownDescription: 'Battery date not recorded',
                errorDescription: 'Invalid battery date',
                label: 'Battery:'
            },
            make: 'Make',
            model: 'Model',
            licensePlate: 'License Plate',
            team: 'Team',
            unassigned: 'Unassigned',
            driveType: 'Drive Type',
            steeringType: 'Steering Type',
            batteryType: 'Battery Type',
            batteryDate: 'Battery Date',
            notSpecified: 'Not specified',
            viewKidProfile: 'View Kid\'s Profile',
            assignmentIssue: 'Assignment Issue:',
            vehicleAssignedTo: 'Vehicle is assigned to kid ID: {kidId}',
            racerProfileNotLoaded: 'However, the racer profile could not be loaded. The racer may have been deleted or there\'s a data inconsistency.',
            suggestionReassign: '💡 Consider reassigning this vehicle to resolve the issue.',
            availableForAssignment: 'Available for Assignment',
            notAssignedToRacer: 'This vehicle is not currently assigned to any racer',
            modifications: 'Modifications',
            noModificationsRecorded: 'No modifications recorded',
            additionalNotes: 'Additional Notes',
            noAdditionalNotes: 'No additional notes',
            previousRacersUsed: 'Previous racers who used this vehicle:',
            noUsageHistory: 'No usage history recorded',
            kidId: 'Kid ID:',
            assigned: 'Assigned:',
            assignedBy: 'by {assignedBy}',
            unknownAssignment: 'Unknown assignment',
            created: 'Created',
            lastUpdated: 'Last Updated'
        },

        editVehicle: {
            title: 'Update Racing Vehicle!',
            backToVehicle: 'Back to Vehicle',
            loadingVehicleData: 'Loading vehicle data...',
            vehicleNotFound: 'Vehicle not found!',
            noPermissionEdit: 'You do not have permission to edit this vehicle.',
            failedToLoadVehicle: 'Failed to load vehicle data. Please try again.',
            error: 'Error',
            backToVehicles: 'Back to Vehicles',
            editingVehicle: 'You\'re editing {make} {model}. Make changes below to update! 🏎️',
            updateSuccess: '🎉 {make} {model} has been updated successfully! 🏎️',
            updateError: 'Failed to update vehicle: {error}',
            photoUploadWarning: 'Photo upload failed: {error}. The vehicle will be updated without the new photo.',
            vehiclePhoto: '🏎️ Vehicle Photo',
            vehicleInformation: '🚗 Vehicle Information',
            technicalSpecifications: '⚙️ Technical Specifications',
            vehicleStatus: '📋 Vehicle Status',
            modificationsNotes: '📝 Modifications & Notes',
            racingVehiclePhoto: '📸 Racing Vehicle Photo',
            changePhoto: 'Change',
            uploadPhoto: 'Upload',
            removePhoto: 'Remove',
            photoRequirements: '📸 Update racing vehicle photo! (Max 5MB, JPEG/PNG)',
            photoRemoveError: 'Failed to remove photo. Please try again.',
            make: '🏭 Make',
            makePlaceholder: 'e.g., Ford, Chevrolet, Custom',
            makeRequired: 'Vehicle make is required',
            model: '🚗 Model',
            modelPlaceholder: 'e.g., Focus, Camaro, Racer X1',
            modelRequired: 'Vehicle model is required',
            licensePlate: '🔢 License Plate',
            licensePlatePlaceholder: 'e.g., ABC-123 or RACE01',
            licensePlateRequired: 'License plate is required',
            teamAssignment: 'Team Assignment',
            unassignedPool: '🏁 Unassigned (Vehicle Pool)',
            teamOption: '🏎️ {teamName}',
            driveType: 'Drive Type',
            selectDriveSystem: 'Select Drive System',
            frontWheelDrive: 'Front-Wheel Drive',
            rearWheelDrive: 'Rear-Wheel Drive',
            allWheelDrive: 'All-Wheel Drive',
            fourWD: '4WD',
            electricMotor: 'Electric Motor',
            hybrid: 'Hybrid',
            steeringType: 'Steering Type',
            selectSteeringSystem: 'Select Steering System',
            manualSteering: 'Manual Steering',
            powerSteering: 'Power Steering',
            electricPowerSteering: 'Electric Power Steering',
            hydraulicPowerSteering: 'Hydraulic Power Steering',
            electronicSteering: 'Electronic Steering',
            batteryType: 'Battery Type',
            batteryTypePlaceholder: 'e.g., 12V Lead Acid, Lithium Ion, AGM',
            batteryInstallationDate: 'Battery Installation Date',
            vehicleActive: '🏎️ Vehicle Active',
            vehicleModifications: '🔧 Vehicle Modifications',
            modificationsPlaceholder: 'Describe any modifications made to this vehicle...',
            additionalNotes: '📋 Additional Notes',
            additionalNotesPlaceholder: 'Any additional notes about this racing vehicle...',
            cancel: 'Cancel',
            saveUpdates: 'Save Updates! 🏁',
            uploadingPhoto: 'Uploading Photo...',
            updatingVehicle: 'Updating Vehicle...',
            required: '*',
            requiredField: '* Required field',
            photoUploadError: {
                invalidType: 'Please upload a JPEG, PNG, or WebP image file.',
                tooLarge: 'Photo file size must be less than 5MB.',
                processingFailed: 'Failed to process photo. Please try again.'
            }
        },

        gallery: {
            title: 'Photo Gallery',
            backToMainGallery: 'Back to Main Gallery',
            refresh: 'Refresh',
            uploadPhotos: 'Upload Photos',
            uploading: 'Uploading...',
            tryAgain: 'Try Again',
            loadingPhotos: 'Loading photos...',
            allPhotos: 'All Photos',
            generalPhotos: 'General Photos',
            eventAlbum: '{eventName} Album',
            smallView: 'Small view',
            mediumView: 'Medium view',
            largeView: 'Large view',
            noPhotosFound: 'No photos found',
            noPhotosUploaded: 'No photos have been uploaded yet.',
            albumEmpty: 'This album is empty.',
            uploadFirstPhoto: 'Upload First Photo',
            from: 'From:',
            uploaded: 'Uploaded:',
            size: 'Size:',
            position: 'Position:',
            of: 'of',
            download: 'Download',
            delete: 'Delete',
            accessDenied: 'Access Denied',
            noPermissionView: 'You do not have permission to view the gallery.',
            failedToLoad: 'Failed to load gallery. Please try again.',
            noPermissionUpload: 'You do not have permission to upload photos.',
            noPermissionDelete: 'You do not have permission to delete photos.',
            deleteConfirm: 'Are you sure you want to delete this photo? This action cannot be undone.',
            deleteSuccess: 'Photo deleted successfully.',
            deleteFailed: 'Failed to delete photo. Please try again.',
            uploadSuccess: 'Successfully uploaded {count} photo(s).',
            uploadFailed: 'Failed to upload photos. Please try again.',
            downloadFailed: 'Failed to download photo. Please try again.',
            events: 'Events',
            races: 'Races',
            teams: 'Teams',
            awards: 'Award Ceremonies',
            noPhotos: 'No photos found in this album.'
        },

        account: {
            title: 'My Account',
            profile: 'Profile Information',
            security: 'Security Settings',
            preferences: 'Preferences',
            editProfile: 'Edit Profile',
            fullName: 'Full Name',
            email: 'Email Address',
            phone: 'Phone Number',
            organization: 'Organization',
            bio: 'Bio',
            saveChanges: 'Save Changes',
            cancel: 'Cancel'
        },

        forms: {
            title: 'Forms Management',
            manage: 'Manage Forms',
            description: 'This page will contain form management functionality including:',
            createNew: 'Create new forms',
            editExisting: 'Edit existing forms',
            viewSubmissions: 'View form submissions',
            templates: 'Form templates',
            analytics: 'Form analytics',
            createNewForm: 'Create New Form',
            viewTemplates: 'View Templates'
        },

        formsManagement: {
            title: 'Forms Management',
            racingFormsControlCenter: 'Racing Forms Control Center',
            subtitle: 'Manage registration forms, collect data, and track submissions! 🏁',
            loadingPermissions: 'Loading permissions...',
            quickActions: 'Quick Actions',
            createNewForm: 'Create New Form',
            refreshData: 'Refresh Data',
            exportSubmissions: 'Export Submissions',
            formSettings: 'Form Settings',
            totalForms: 'Total Forms',
            submissions: 'Submissions',
            pendingReviews: 'Pending Reviews',
            completionRate: 'Completion Rate',
            thisWeek: '+12% this week',
            improvement: '+5% improvement',
            activeForms: '📋 Active Forms',
            searchForms: 'Search forms...',
            status: 'Status',
            allForms: 'All Forms',
            active: 'Active',
            draft: 'Draft',
            archived: 'Archived',
            loadingForms: 'Loading forms...',
            viewSubmissions: 'View Submissions',
            editForm: 'Edit Form',
            deleteForm: 'Delete Form',
            deleteConfirm: 'Are you sure you want to delete this form?',
            formTemplates: '📚 Form Templates',
            useTemplate: 'Use Template',
            eventRegistration: 'Event Registration',
            eventRegistrationDesc: 'Standard event registration template',
            contactInformation: 'Contact Information',
            contactInformationDesc: 'Basic contact details form',
            feedbackSurvey: 'Feedback Survey',
            feedbackSurveyDesc: 'Post-event feedback collection',
            medicalInformation: 'Medical Information',
            medicalInformationDesc: 'Health and medical details form',
            recentSubmissions: '📨 Recent Submissions',
            formName: 'Form Name',
            submittedBy: 'Submitted By',
            dateTime: 'Date & Time',
            actions: 'Actions',
            viewSubmission: 'View Submission',
            download: 'Download',
            pending: 'Pending',
            completed: 'Completed',
            review: 'Review',
            registration: 'Registration',
            contact: 'Contact',
            feedback: 'Feedback',
            medical: 'Medical'
        },

        backup: {
            title: 'Backup & Sync',
            databaseBackup: 'Database Backup',
            description: 'Create and manage backups of your application data.',
            createNew: 'Create New Backup',
            viewHistory: 'View Backup History',
            recentBackups: 'Recent Backups',
            noBackups: 'No backups created yet. Click "Create New Backup" to get started.',
            cloudSync: 'Cloud Sync Settings',
            configurSync: 'Configure synchronization with cloud storage services.',
            googleDrive: 'Google Drive',
            dropbox: 'Dropbox',
            status: 'Status',
            notConnected: 'Not Connected',
            connect: 'Connect',
            automatedSchedule: 'Automated Backup Schedule',
            setSchedule: 'Set up automated backups on a regular schedule.',
            daily: 'Daily',
            weekly: 'Weekly',
            monthly: 'Monthly',
            custom: 'Custom',
            saveSettings: 'Save Settings'
        },

        import: {
            title: 'Import/Export Data',
            importData: 'Import Data',
            importDescription: 'Upload data files to import information into the system.',
            selectDataType: 'Select Data Type to Import:',
            selectFile: 'Select File (CSV or Excel):',
            users: 'Users',
            kids: 'Kids',
            teams: 'Teams',
            events: 'Events',
            selectedFile: 'Selected file:',
            size: 'Size:',
            overwriteRecords: 'Overwrite existing records',
            skipHeader: 'Skip header row',
            importButton: 'Import Data',
            exportData: 'Export Data',
            exportDescription: 'Download data from the system as CSV or Excel files.',
            selectExportType: 'Select Data Type to Export:',
            allData: 'All Data',
            exportFormat: 'Export Format:',
            csv: 'CSV',
            excel: 'Excel',
            includeHeaders: 'Include header row',
            includeTimestamp: 'Include timestamp in filename',
            exportButton: 'Export Data',
            recentActivity: 'Recent Activity',
            usersImport: 'Users Import',
            eventsExport: 'Events Export',
            teamsImport: 'Teams Import',
            daysAgo: '{count} days ago',
            weekAgo: '1 week ago',
            success: 'Success',
            error: 'Error',
            recordsImported: '{count} records imported',
            exportedAs: 'Exported as {filename}',
            invalidFormat: 'Invalid format in row {row}',
            importingData: 'Importing {type} data from {filename}',
            exportingData: 'Exporting {type} data'
        },

        export: {
            title: 'Export Data',
            description: 'Download data as Excel or CSV files',
            selectFormat: 'Select Format',
            excel: 'Excel (XLSX)',
            csv: 'CSV',
            includeHeaders: 'Include Headers',
            fileName: 'File Name',
            exporting: 'Exporting...',
            success: 'Export completed successfully!',
            failed: 'Export failed: {error}',
            downloadStarted: 'Download started...',
            noData: 'No data to export'
        },

        analytics: {
            pageTitle: 'Racing Analytics Dashboard',
            raceControlTitle: '🏁 Race Control Analytics',
            subtitle: 'Comprehensive data insights for your racing program',
            lastUpdated: 'Last updated',
            refreshData: 'Refresh Data',
            loadingAnalytics: 'Loading analytics data...',
            loadingOverview: 'Loading overview...',
            loadingVehicleAnalytics: 'Loading vehicle analytics...',
            loadingTeamAnalytics: 'Loading team analytics...',
            loadingParticipationAnalytics: 'Loading participation analytics...',
            loadingMaintenanceData: 'Loading maintenance data...',
            failedToLoad: 'Failed to load analytics data. Please try again.',

            tabs: {
                overview: 'Overview',
                vehicles: 'Vehicles',
                teams: 'Teams',
                participation: 'Events',
                maintenance: 'Maintenance',
                overviewDesc: 'System health & KPIs',
                vehiclesDesc: 'Usage & maintenance',
                teamsDesc: 'Performance & capacity',
                participationDesc: 'Participation & engagement',
                maintenanceDesc: 'Alerts & recommendations'
            },

            overview: {
                totalVehicles: 'Total Vehicles',
                totalRacers: 'Total Racers',
                racingTeams: 'Racing Teams',
                events: 'Events',
                active: 'Active',
                upcoming: 'Upcoming',
                kpiTitle: 'Key Performance Indicators',
                vehicleUtilization: 'Vehicle Utilization',
                teamCapacity: 'Team Capacity',
                systemHealth: 'System Health',
                participation: 'Participation',
                vehicleUtilizationDesc: 'Percentage of vehicles currently in use',
                teamCapacityDesc: 'Current members vs maximum capacity',
                systemHealthDesc: 'Overall system operational status',
                participationDesc: 'Active racers with completed forms'
            },

            vehicles: {
                fleetOverview: '🚗 Vehicle Fleet Overview',
                fleetStatus: 'Fleet Status',
                totalVehicles: 'Total Vehicles',
                currentlyInUse: 'Currently In Use',
                available: 'Available',
                utilizationTitle: '📊 Vehicle Utilization',
                mostUsed: '🏆 Most Used Vehicles',
                usageByTeam: '📈 Usage by Team',
                assignments: 'assignments',
                inUse: '🔴 In Use',
                vehiclesCount: 'vehicles',
                utilized: 'utilized',
                batteryStatus: '🔋 Battery Maintenance Status',
                needsReplacement: '🚨 Needs Replacement',
                monitorClosely: '⚠️ Monitor Closely',
                daysOld: 'days old'
            },

            teams: {
                performanceOverview: '👥 Team Performance Overview',
                teamStatistics: 'Team Statistics',
                totalTeams: 'Total Teams',
                averageTeamSize: 'Average Team Size',
                totalCapacity: 'Total Capacity',
                capacityUtilization: '📊 Capacity Utilization',
                members: 'Members',
                instructors: 'Instructors',
                vehicleDistribution: '🚗 Vehicle Distribution',
                ratio: 'Ratio'
            },

            participation: {
                eventsOverview: '🏁 Events Overview',
                totalEvents: 'Total Events',
                upcomingEvents: 'Upcoming',
                completedEvents: 'Completed',
                avgParticipation: 'Avg Participation',
                mostActiveRacers: '🏆 Most Active Racers',
                allTimeLeaders: 'All Time Leaders',
                recentActivity: 'Recent Activity (30 days)',
                eventsCount: 'events',
                recent: 'recent',
                recentEvents: '📅 Recent Events',
                participants: 'participants',
                teams: 'teams'
            },

            maintenance: {
                urgentAlerts: '🚨 Urgent Maintenance Alerts',
                batteryReplacement: 'Battery Replacement Required',
                batteryAge: 'Battery is {daysOld} days old',
                batteryType: 'Type',
                priorityHigh: 'HIGH',
                batteriesToMonitor: '⚠️ Batteries to Monitor',
                priorityMedium: 'MEDIUM',
                systemRecommendations: '💡 System Recommendations',
                healthIndicators: '📊 System Health Indicators',
                vehicleHealth: 'Vehicle Health',
                teamHealth: 'Team Health',
                teamsWithoutVehicles: 'Teams Without Vehicles',
                teamsCount: '{count} teams have no assigned vehicles',
                actionLabel: 'Action',
                assignVehiclesAction: 'Assign vehicles to teams or consider vehicle redistribution'
            },

            tooltip: {
                systemPerformance: {
                    title: 'System Performance',
                    description: 'Critical metrics showing how well your racing program is running. These percentages help identify improvement areas.',
                    action: 'Aim for 80%+ on all metrics. Lower scores indicate specific areas needing attention.'
                },
                vehicleUsage: {
                    title: 'Vehicle Usage Rate',
                    description: 'Percentage of your vehicle fleet currently assigned and being used regularly by teams.',
                    action: 'Low utilization? Redistribute vehicles or recruit participants. High? You may need more vehicles.'
                },
                teamFillRate: {
                    title: 'Team Fill Rate',
                    description: 'How full your teams are compared to maximum capacity. Shows room for more participants.',
                    action: 'Low capacity? Focus on recruitment. High? Consider creating new teams or expanding existing ones.'
                },
                usageAnalytics: {
                    title: 'Usage Analytics',
                    description: 'Track which vehicles are used most and least. Helps identify popular vehicles and those needing attention.',
                    action: 'Rotate high-usage vehicles to prevent wear and investigate why some are used less.'
                },
                highUsage: {
                    title: 'High-Usage Fleet',
                    description: 'These vehicles are in high demand. Monitor them for maintenance needs due to heavy usage.',
                    action: 'Schedule regular maintenance and consider rotating to prevent overuse.'
                },
                batteryHealth: {
                    title: 'Battery Health Monitoring',
                    description: 'Track battery age and condition to prevent unexpected failures during events.',
                    action: 'Replace batteries showing warning signs immediately and schedule regular checks.'
                },
                criticalBattery: {
                    title: 'Critical Battery Alert',
                    description: 'These batteries are old and need immediate replacement to avoid vehicle downtime.',
                    action: 'Order replacement batteries now and schedule immediate maintenance.'
                },
                preventiveMaintenance: {
                    title: 'Preventive Maintenance',
                    description: 'These batteries are approaching replacement time but can still be used with careful monitoring.',
                    action: 'Order spare batteries and check these vehicles weekly for performance issues.'
                },
                teamCapacityAnalysis: {
                    title: 'Team Capacity Analysis',
                    description: 'See how full each team is and identify opportunities for growth or redistribution.',
                    action: 'Teams under 70% capacity can take more members. Teams over 90% may need to split or expand.'
                },
                resourceAllocation: {
                    title: 'Resource Allocation',
                    description: 'Shows how vehicles are distributed across teams and the ratio of vehicles to members.',
                    action: 'Ensure fair distribution. Aim for similar vehicle-to-member ratios across teams.'
                },
                participationRate: {
                    title: 'Participation Rate',
                    description: 'Average number of participants per event. This helps gauge event popularity and engagement.',
                    action: 'Low participation? Try different event types or timing. High participation? Consider larger venues or more events.'
                },
                participationHistory: {
                    title: 'Participation History',
                    description: 'Racers with the highest total event participation. These are your most dedicated participants.',
                    action: 'Consider special recognition or leadership roles for top participants.'
                },
                currentEngagement: {
                    title: 'Current Engagement',
                    description: 'Racers who have been most active in recent events. This shows current engagement levels.',
                    action: 'Engage with recently active participants and encourage others to join upcoming events.'
                },
                priorityRecommendationGeneric: {
                    title: 'Priority Recommendation'
                }
            }
        },

        common: {
            clickToView: 'Click to view',
            filterApplied: 'Filter applied',
            searchApplied: 'Search applied',
            loadingPermissions: 'Loading permissions...',
            permissionDenied: 'Permission denied',
            error: 'Error',
            noDataFound: 'No data found',
            selectAll: 'Select All',
            assignTo: 'Assign to',
            removeFrom: 'Remove from',
            unlimited: 'Unlimited',
            notAvailable: 'N/A'
        },

        general: {
            loading: 'Loading...',
            save: 'Save',
            cancel: 'Cancel',
            edit: 'Edit',
            delete: 'Delete',
            view: 'View',
            close: 'Close',
            yes: 'Yes',
            no: 'No',
            confirm: 'Confirm',
            search: 'Search'
        },

        language: {
            english: 'English',
            hebrew: 'עברית',
            selectLanguage: 'Select Language'
        },

        login: {
            appTitle: 'Paragrutarally WebApp',
            title: 'Login',
            email: 'Email',
            password: 'Password',
            emailPlaceholder: 'Enter your email',
            passwordPlaceholder: 'Enter your password',
            show: 'Show',
            hide: 'Hide',
            signIn: 'Sign In',
            signingIn: 'Signing In...',
            forgotPassword: 'Forgot Password?',
            mobileSignIn: 'Sign In With Mobile Number',
            googleSignIn: 'Sign In With Google',
            contactUs: 'Contact Us',
            error: 'Failed to sign in. Please check your credentials.'
        },

        status: {
            active: 'Active',
            pending: 'Pending',
            completed: 'Completed',
            cancelled: 'Cancelled'
        }
    },

    he: {
        nav: {
            dashboard: 'לוח בקרה',
            eventManagement: 'ניהול אירועים',
            userManagement: 'ניהול משתמשים',
            forms: 'טפסים',
            backupSync: 'גיבוי וסנכרון',
            importExport: 'ייבוא וייצוא נתונים',
            gallery: 'גלריה',
            myAccount: 'החשבון שלי',
            signOut: 'התנתק',
            logo: 'פאראגרוטראלי',
            events: 'אירועים',
            users: 'משתמשים',
            kids: 'ילדים',
            teams: 'קבוצות',
            vehicles: 'רכבים',
            analytics: 'אנליטיקה'
        },

        dashboard: {
            title: 'לוח בקרה ראשי',
            totalUsers: 'סך המשתמשים',
            upcomingEvents: 'אירועים קרובים',
            totalKids: 'סך הילדים',
            activeTeams: 'קבוצות פעילות',
            recentActivities: 'פעילויות אחרונות',
            newUser: 'משתמש חדש',
            wasAdded: 'נוסף',
            event: 'אירוע',
            wasCreated: 'נוצר',
            newPhotos: 'תמונות חדשות',
            wereAdded: 'נוספו לגלריה',
            racingReady: 'מוכנים למירוץ',
            racingVehicles: 'רכבי מירוץ',
            available: 'זמינים',
            systemUsers: 'משתמשי מערכת',
            autoRefresh: 'הלוח מתעדכן אוטומטית כל 5 דקות',
            teamCreated: 'קבוצה <strong>{teamName}</strong> נוצרה.',
            justNow: 'עכשיו',
            minutesAgo: 'לפני {count} דקות',
            hoursAgo: 'לפני {count} שעות',
            daysAgo: 'לפני {count} ימים',
            fetchError: 'כשל בטעינת נתוני הלוח. אנא נסה שוב.',
            scheduled: 'מתוזמנים',
            registered: 'רשומים',
            noRecentActivities: 'לא נמצאו פעילויות אחרונות.',
            activitiesWillAppear: 'פעילויות יופיעו כאן כאשר משתמשים יבצעו פעולות במערכת.',
            noUpcomingEvents: 'אין אירועים קרובים מתוזמנים.',
            createFirstEvent: 'צור את האירוע הראשון שלך כדי להתחיל!',
            wasUpdated: 'עודכנ/ה',
            user: 'משתמש',
            kid: 'ילד',
            team: 'קבוצה',
            vehicle: 'רכב',
            newKid: 'ילד חדש',
            newVehicle: 'רכב חדש',
            statusChanged: 'סטטוס שונה ל',
            welcomeMessage: 'ברוכים הבאים לדשבור הראשי של פאראגרוטראלי! כאן תוכלו לראות את כל הפעילות האחרונה במערכת.',
        },

        events: {
            title: 'ניהול אירועים',
            createNew: 'צור אירוע חדש',
            searchPlaceholder: 'חפש אירועים...',
            search: 'חפש',
            allEvents: 'כל האירועים',
            upcoming: 'אירועים קרובים',
            completed: 'אירועים שהסתיימו',
            allLocations: 'כל המיקומים',
            jerusalem: 'ירושלים',
            telAviv: 'תל אביב',
            haifa: 'חיפה',
            eilat: 'אילת',
            eventName: 'שם האירוע',
            date: 'תאריך',
            location: 'מיקום',
            participants: 'משתתפים',
            status: 'סטטוס',
            actions: 'פעולות',
            edit: 'ערוך',
            view: 'צפה',
            delete: 'מחק',
            loading: 'טוען אירועים...',
            noEvents: 'לא נמצאו אירועים',
            previous: 'הקודם',
            next: 'הבא',
            addNewEvent: 'הוסף אירוע חדש',
            exportEvents: 'ייצא אירועים',
            totalEvents: 'סך האירועים',
            completedEvents: 'אירועים שהושלמו',
            eventInfo: 'מידע אירוע',
            eventsLowercase: 'אירועים',
            showing: 'מציג',
            searchLabel: 'חיפוש',
            unnamedEvent: 'אירוע ללא שם',
            noDescription: 'אין תיאור זמין',
            locationTBD: 'מיקום יקבע',
            dateTBD: 'תאריך יקבע',
            fetchError: 'כשל בטעינת אירועים. אנא נסה שוב.',
            noGalleryFolder: 'לאירוע זה אין תיקיית גלריה.',
            deleteSuccess: 'אירוע "{eventName}" נמחק בהצלחה',
            includingGallery: 'כולל תמונות גלריה',
            deleteFailed: 'מחיקת אירוע נכשלה: {error}',
            deleteError: 'מחיקת אירוע נכשלה. אנא נסה שוב.',
            noEventsCreated: 'עדיין לא נוצרו אירועים. התחל ביצירת האירוע הראשון שלך!',
            createFirstEvent: 'צור אירוע ראשון',
            createNewEvent: 'צור אירוע חדש',
            hasGallery: 'יש גלריה',
            viewDetails: 'צפה בפרטים',
            editEvent: 'ערוך אירוע',
            viewGallery: 'צפה בגלריה',
            deleteEvent: 'מחק אירוע',
            description: 'תיאור',
            notes: 'הערות',
            participatingTeams: 'קבוצות משתתפות',
            teamsRegistered: '{count} קבוצות רשומות',
            gallery: 'גלריה',
            deleteConfirmTitle: 'האם אתה בטוח שברצונך למחוק את האירוע הזה?',
            deleteConfirmMessage: 'אתה עומד למחוק את "{eventName}". פעולה זו בלתי הפיכה.',
            deletionSummaryTitle: 'הדברים הבאים יימחקו לצמיתות:',
            eventInformation: 'מידע האירוע והפרטים',
            eventCoverImage: 'תמונת כיסוי האירוע',
            allGalleryPhotos: 'כל התמונות בגלריית האירוע',
            galleryFolderDetected: 'תיקיית גלריה זוהתה',
            galleryFolderQuestion: 'לאירוע זה יש גלריית תמונות קשורה. מה תרצה לעשות עם התמונות?',
            keepGalleryPhotos: 'שמור תמונות גלריה',
            keepGalleryDescription: 'מחק רק את האירוע, שמר את כל התמונות בגלריה',
            deleteGalleryToo: 'מחק גם את הגלריה',
            deleteGalleryDescription: 'מחק את האירוע והסר לצמיתות את כל התמונות מהגלריה',
            deleting: 'מוחק...',
            deleteEventAndGallery: 'מחק אירוע וגלריה',
            deleteEventOnly: 'מחק אירוע בלבד',
            upcomingEvents: 'אירועים קרובים',
            timeTBD: 'שעה תקבע בהמשך',
            addressTBD: 'כתובת תקבע בהמשך',
            organizerTBD: 'יקבע',
            eventNotFound: 'אירוע לא נמצא',
            loadError: 'כשל בטעינת אירוע. אנא נסה שוב.',
            loadingEvent: 'טוען אירוע...',
            backToEvents: 'חזור לאירועים',
            racingEventDetails: 'פרטי אירוע מירוץ!',
            eventInformationSubtitle: 'מידע ופרטי האירוע',
            eventDetails: 'פרטי האירוע',
            time: 'שעה',
            organizer: 'מארגן',
            fullAddress: 'כתובת מלאה',
            additionalNotes: 'הערות נוספות',
            loadingTeamData: 'טוען נתוני קבוצות...',
            unknownTeam: 'קבוצה לא ידועה',
            leader: 'מנהיג',
            kidsInTeam: 'ילדים בקבוצה',
            eventGallery: 'גלריית האירוע',
            eventAlbum: 'אלבום {eventName}',
            viewManagePhotos: 'צפה ונהל תמונות מהאירוע הזה',
            cancelled: 'בוטל'
        },

        users: {
            title: 'ניהול משתמשים',
            manage: 'נהל משתמשים',
            description: 'עמוד זה יכיל פונקציונליות ניהול משתמשים כולל:',
            viewAll: 'צפה בכל המשתמשים',
            addNew: 'הוסף משתמשים חדשים',
            editProfiles: 'ערוך פרופילי משתמשים',
            manageRoles: 'נהל תפקידי משתמשים',
            permissions: 'הרשאות משתמשים',
            addNewUser: 'הוסף משתמש חדש',
            exportUsers: 'ייצא משתמשים',
            createNewUser: 'צור משתמש חדש',
            totalUsers: 'סך המשתמשים',
            admins: 'מנהלים',
            instructors: 'מדריכים',
            parents: 'הורים',
            admin: 'מנהל',
            instructor: 'מדריך',
            parent: 'הורה',
            host: 'מארח',
            searchPlaceholder: 'חפש משתמשים לפי שם או אימייל...',
            filterByRole: 'סנן לפי תפקיד',
            allRoles: 'כל התפקידים',
            clearFilters: 'נקה מסננים',
            showing: 'מציג',
            usersLowercase: 'משתמשים',
            filteredBy: 'מסונן לפי',
            searching: 'מחפש',
            loadingUsers: 'טוען משתמשים...',
            noUsersFound: 'לא נמצאו משתמשים',
            createFirstUser: 'התחל ביצירת המשתמש הראשון שלך.',
            searchInUsers: 'חפש במשתמשים',
            clearSearch: 'נקה חיפוש',
            searchResults: '{count} מתוך {total} משתמשים',
            totalUsersCount: '{count} משתמשים בסך הכל',
            sortByDisplayName: 'לחץ למיון לפי שם תצוגה',
            sortByFullName: 'לחץ למיון לפי שם מלא',
            sortByEmail: 'לחץ למיון לפי אימייל',
            sortByPhone: 'לחץ למיון לפי טלפון',
            sortByRole: 'לחץ למיון לפי תפקיד',
            sortByCreatedDate: 'לחץ למיון לפי תאריך יצירה',
            sortByLastLogin: 'לחץ למיון לפי כניסה אחרונה',
            displayName: 'שם תצוגה',
            fullName: 'שם מלא',
            email: 'אימייל',
            phone: 'טלפון',
            role: 'תפקיד',
            createdAt: 'נוצר ב',
            lastLogin: 'כניסה אחרונה',
            actions: 'פעולות',
            updateUser: 'עדכן משתמש',
            update: 'עדכן',
            noSearchResults: 'אין משתמשים התואמים לחיפוש שלך: "{searchTerm}"',
            clearSearchButton: 'נקה חיפוש',
            editUser: 'ערוך משתמש',
            displayNameRequired: 'שם תצוגה הוא שדה חובה',
            nameRequired: 'שם הוא שדה חובה',
            phoneRequired: 'מספר טלפון הוא שדה חובה',
            roleRequired: 'תפקיד הוא שדה חובה',
            updateError: 'עדכון המשתמש נכשל. אנא נסה שוב.',
            displayNamePlaceholder: 'הכנס שם תצוגה',
            emailAddress: 'כתובת אימייל',
            emailCannotChange: 'לא ניתן לשנות אימייל',
            emailLinkedToAuth: 'לא ניתן לשנות אימייל מכיוון שהוא מקושר לאימות',
            fullNamePlaceholder: 'הכנס שם מלא',
            phoneNumber: 'מספר טלפון',
            phoneNumberPlaceholder: 'הכנס מספר טלפון',
            updating: 'מעדכן...',
            updateUserButton: 'עדכן משתמש'
        },

        teams: {
            title: 'ניהול קבוצות',
            addNewTeam: 'הוסף קבוצה חדשה',
            refresh: 'רענן',
            exportTeams: 'ייצא קבוצות',
            totalTeams: 'סך הקבוצות',
            activeTeams: 'קבוצות פעילות',
            teamsWithoutKids: 'קבוצות ללא ילדים',
            teamsWithKids: 'קבוצות עם ילדים',
            searchPlaceholder: 'חפש לפי שם קבוצה או מדריך...',
            clearAll: 'נקה הכל',
            showing: 'מציג',
            of: 'מתוך',
            teams: 'קבוצות',
            priorityFilter: 'עדיפות: קבוצות ללא ילדים',
            status: 'סטטוס',
            capacity: 'קיבולת',
            allStatus: 'כל הסטטוסים',
            active: 'פעיל',
            inactive: 'לא פעיל',
            allTeams: 'כל הקבוצות',
            emptyTeams: 'קבוצות ריקות',
            availableSpots: 'מקומות פנויים',
            fullTeams: 'קבוצות מלאות',
            teamInfo: 'מידע קבוצה',
            instructor: 'מדריך',
            members: 'חברים',
            actions: 'פעולות',
            noInstructor: 'אין מדריך',
            loadingTeams: 'טוען קבוצות...',
            noTeamsFound: 'לא נמצאו קבוצות',
            adjustFilters: 'נסה להתאים את החיפוש או הפילטרים',
            addFirstTeam: 'הוסף קבוצה ראשונה',
            reset: 'איפוס',
            permissionError: 'שגיאת הרשאה',
            reloadPage: 'טען מחדש',
            tryAgain: 'נסה שוב',
            deleteConfirm: 'האם אתה בטוח שברצונך למחוק את {teamName}? פעולה זו בלתי הפיכה.',
            cannotDelete: 'לא ניתן למחוק את {teamName} כי יש לה {memberCount} חברים. אנא העבר את הילדים לקבוצות אחרות תחילה.',
            deleteSuccess: '{teamName} נמחקה בהצלחה!',
            deleteFailed: 'מחיקת הקבוצה נכשלה. אנא נסה שוב.',
            onlyAdminsCanDelete: 'רק מנהלים יכולים למחוק קבוצות.',
            unnamedTeam: 'קבוצה ללא שם',
            loadError: 'כשל בטעינת קבוצות',
            editFunctionality: 'פונקציונליות עריכה עבור {teamName} תהיה כאן.',
            viewDetails: 'צפה בפרטים',
            editTeam: 'ערוך קבוצה',
            deleteTeam: 'מחק קבוצה',
            unlimited: 'ללא הגבלה',
            hasInstructor: 'יש מדריך',
            membersCount: '{current}/{max}',
            empty: 'ריק',
            available: 'זמין',
            full: 'מלא',
            // Team selection options format - Fixed interpolation
            teamOption: '🏁 {teamName} ({memberCount} חברים)'
        },

        kids: {
            title: 'ניהול ילדים',
            addNewKid: 'הוסף ילד חדש',
            refresh: 'רענן',
            exportKids: 'ייצא ילדים',
            kidsWithoutTeams: 'ילדים ללא קבוצות',
            totalKids: 'סך הילדים',
            yourKids: 'הילדים שלך',
            activeKids: 'ילדים פעילים',
            kidsWithTeams: 'ילדים עם קבוצות',
            searchPlaceholder: 'חפש לפי שם ילד או הורה...',
            clearAll: 'נקה הכל',
            showing: 'מציג',
            of: 'מתוך',
            kids: 'ילדים',
            priorityFilter: 'עדיפות: ילדים ללא קבוצות',
            teamStatus: 'סטטוס קבוצה',
            allKids: 'כל הילדים',
            noTeam: 'ללא קבוצה',
            withTeam: 'עם קבוצה',
            allStatus: 'כל הסטטוסים',
            pending: 'ממתין',
            completed: 'הושלם',
            cancelled: 'בוטל',
            active: 'פעיל',
            kidInfo: 'מידע ילד',
            photo: 'תמונה',
            age: 'גיל',
            team: 'קבוצה',
            status: 'סטטוס',
            actions: 'פעולות',
            loadingKids: 'טוען ילדים...',
            noKidsFound: 'לא נמצאו ילדים',
            noKidsRegistered: 'אין ילדים רשומים תחת החשבון שלך',
            adjustFilters: 'נסה להתאים את החיפוש או הפילטרים',
            addFirstKid: 'הוסף ילד ראשון',
            assignTeam: 'הקצה קבוצה',
            changeTeam: 'שנה קבוצה',
            deleteConfirm: 'האם אתה בטוח שברצונך למחוק את {kidName}? פעולה זו בלתי הפיכה.',
            deleteSuccess: '{kidName} נמחק בהצלחה!',
            deleteFailed: 'מחיקת הילד נכשלה. אנא נסה שוב.',
            onlyAdminsCanDelete: 'רק מנהלים יכולים למחוק ילדים.',
            teamChanged: '{kidName} {action} {teamName}',
            assignedTo: 'הוקצה ל',
            removedFrom: 'הוסר מהקבוצה',
            updated: '{kidName} עודכן בהצלחה!',
            name: 'שם',
            parentName: 'הורה',
            participantNumber: 'מספר משתתף',
            viewDetails: 'צפה בפרטים',
            editKid: 'ערוך ילד',
            deleteKid: 'מחק ילד',
            clickToView: 'לחץ לצפייה בפרטים',
            reset: 'איפוס',
            permissionError: 'שגיאת הרשאה',
            reloadPage: 'טען מחדש',
            tryAgain: 'נסה שוב',
            loadingPermissions: 'טוען הרשאות...'
        },

        editKid: {
            title: 'עדכן את המידע של {firstName}!',
            titleGeneric: 'עדכן מידע של הרוכב!',
            backToProfile: 'חזור לפרופיל',
            loadingRacerData: 'טוען נתוני רוכב...',
            error: 'שגיאה',
            backToKids: 'חזור לילדים',
            editingInfo: 'אתה עורך את המידע של {firstName}. בצע שינויים למטה כדי לעדכן! 🏎️',
            editingInfoGeneric: 'אתה עורך את המידע של הרוכב הזה. בצע שינויים למטה כדי לעדכן! 🏎️',
            kidNotFound: 'ילד לא נמצא!',
            noPermission: 'אין לך הרשאה לערוך את הילד הזה.',
            loadError: 'כשל בטעינת נתוני הילד. אנא נסה שוב.',
            updateSuccess: '🎉 {firstName} עודכן בהצלחה! 🏎️',
            updateSuccessGeneric: '🎉 הרוכב עודכן בהצלחה! 🏎️',
            updateError: 'כשל בעדכון הילד: {error}',
            photoUploadError: 'העלאת תמונה נכשלה: {error}. הילד יתעדכן ללא התמונה החדשה.',
            vehicleAssignmentError: 'כשל בעדכון הקצאת הרכב. אנא נסה שוב.',
            photoError: 'כשל בהסרת התמונה. אנא נסה שוב.',
            commentError: 'כשל בהוספת הערה. אנא נסה שוב.',
            focusIndicator: '← עדכן כאן!',
            racerProfile: '🏎️ פרופיל רוכב',
            superPowersSkills: '💪 כוחות על וכישורים',
            racingFamilyInfo: '👨‍👩‍👧‍👦 מידע משפחת מירוצים',
            teamVehicleAssignment: '🏎️ הקצאת קבוצה ורכב',
            racingStatusForms: '📋 סטטוס מירוצים וטפסים',
            racingNotesCommunication: '💬 הערות מירוצים ותקשורת צוות',
            racingPhoto: '📸 תמונת מירוצים',
            changePhoto: 'שנה',
            uploadPhoto: 'העלה',
            removePhoto: 'הסר',
            photoRequirements: '📸 עדכן תמונת מירוצים! (מקסימום 5MB, JPEG/PNG)',
            raceNumber: '🏁 מספר מירוץ',
            raceNumberPlaceholder: '001',
            firstName: '👤 שם פרטי',
            firstNamePlaceholder: 'שם פרטי של אלוף העתיד',
            lastName: '👨‍👩‍👧‍👦 שם משפחה',
            lastNamePlaceholder: 'שם משפחת מירוצים',
            birthday: '🎂 יום הולדת',
            homeBaseLocation: '🏠 מיקום בית',
            homeBaseLocationPlaceholder: 'איפה הרוכב שלנו קורא לבית',
            amazingAbilities: '🌟 יכולות מדהימות',
            amazingAbilitiesPlaceholder: 'ספר לנו על הכישורים והיכולות המדהימות של הרוכב הזה!',
            announcerNotes: '📢 הערות מיוחדות לקריין',
            announcerNotesPlaceholder: 'עובדות כיפיות לחלוק במהלך המירוץ!',
            parentGuardianName: '👤 שם הורה/אפוטרופוס',
            emailAddress: '📧 כתובת אימייל',
            phoneNumber: '📱 מספר טלפון',
            grandparentsNames: '👵👴 שמות סבא וסבתא',
            grandparentsNamesPlaceholder: 'אגדות מירוצים במשפחה',
            grandparentsPhone: '☎️ טלפון סבא וסבתא',
            grandparentsPhonePlaceholder: 'גיבוי תמיכת מירוצים',
            racingTeam: 'קבוצת מירוצים',
            noTeamAssigned: '🚫 אין קבוצה מוקצית (עדיין)',
            teamOption: '🏁 {teamName} ({memberCount} רוכבים)',
            racingInstructor: 'מדריך מירוצים',
            noInstructorAssigned: '👨‍🏫 אין מדריך מוקצה',
            instructorOption: '🏎️ {instructorName}',
            racingVehicleAssignment: 'הקצאת רכב מירוצים',
            assignedVehicle: 'רכב מוקצה',
            noVehicleAssigned: '🚫 אין רכב מוקצה',
            vehicleOption: '🏎️ {make} {model} ({licensePlate})',
            currentAssignment: 'הקצאה נוכחית:',
            viewVehicleDetails: 'צפה בפרטי הרכב',
            formStatus: 'סטטוס טופס',
            formStatusOptions: {
                pending: '⏳ ממתין - מתכונן',
                completed: '✅ הושלם - מוכן למירוץ!',
                needs_review: '🔍 זקוק לבדיקה',
                cancelled: '❌ בוטל'
            },
            healthDeclarationSigned: '🛡️ הצהרת בריאות חתומה',
            noTeamNotesYet: 'עדיין אין הערות צוות. היה הראשון להוסיף!',
            addTeamNote: 'הוסף הערת צוות',
            commentPlaceholder: 'הוסף הערה על התקדמות הרוכב, התנהגות או כל מידע חשוב...',
            cancel: 'בטל',
            addNote: 'הוסף הערה',
            adding: 'מוסיף...',
            additionalRacingNotes: '🗒️ הערות מירוצים נוספות',
            additionalRacingNotesPlaceholder: 'כל הערות מיוחדות על כוכב המירוצים שלנו!',
            cancelButton: 'בטל',
            saveUpdates: 'שמור עדכונים! 🏁',
            uploadingPhoto: 'מעלה תמונה...',
            updatingRacer: 'מעדכן רוכב...',
            required: '*',
            requiredField: '* שדה חובה',
            validation: {
                fixErrors: 'אנא תקן את השגיאות הבאות:'
            },
            // lockedField: 'לא ניתן לערוך שדה זה',
            // photoUploadError: {
            //     invalidType: 'אנא העלה קובץ תמונה JPEG, PNG או WebP.',
            //     tooLarge: 'גודל קובץ התמונה חייב להיות פחות מ-5MB.',
            //     processingFailed: 'כשל בעיבוד התמונה. אנא נסה שוב.'
            // }
        },
        addKid: {
            formStatusOptions: {
                pending: '⏳ ממתין - מתכונן',
                completed: '✅ הושלם - מוכן למירוץ!',
                needs_review: '🔍 זקוק לבדיקה',
                cancelled: '❌ בוטל'
            },
            title: 'הוסף ילד חדש',
            backToKids: 'חזור לילדים',
            subtitle: 'בואו נכניס את האלוף העתידי הזה למסלול! 🏁',
        },

        viewKid: {
            racingStarProfile: 'פרופיל כוכב מירוצים!',
            meetOurRacer: 'היכרו עם הרוכב המדהים שלנו! 🏁',
            loadingRacingStarData: 'טוען נתוני כוכב מירוצים...',
            kidNotFound: 'ילד לא נמצא!',
            noPermissionView: 'אין לך הרשאה לצפות בילד הזה.',
            loadDataError: 'כשל בטעינת נתוני הילד. אנא נסה שוב.',
            deleteConfirm: 'האם אתה בטוח שברצונך למחוק את {kidName}? פעולה זו בלתי הפיכה.',
            deleteSuccess: '{kidName} הוסר מתוכנית המירוצים.',
            deleteFailed: 'מחיקת הילד נכשלה. אנא נסה שוב.',
            deletePermissionDenied: 'אין לך הרשאה למחוק את הילד הזה.',
            nameRestricted: 'שם מוגבל',
            kidNumber: 'ילד מס\' {number}',
            ageLabel: 'גיל: {age}',
            teamLabel: 'קבוצה: {teamName}',
            vehicleLabel: 'רכב: {make} {model}',
            personalProfile: '🏎️ הפרופיל של {firstName}',
            racingPhoto: '📸 תמונת מירוצים',
            photoUploaded: '✅ הועלה',
            noPhotoUploaded: '📷 לא הועלתה תמונה',
            homeBase: '🏠 בית',
            superPowersAbilities: '🌟 כוחות על ויכולות',
            announcerNotes: '📢 הערות קריין',
            familyInfo: '👨‍👩‍👧‍👦 המשפחה של {firstName}',
            parentGuardian: '👤 הורה/אפוטרופוס',
            email: '📧 אימייל',
            phone: '📱 טלפון',
            grandparents: '👵👴 סבא וסבתא',
            grandparentsPhone: '☎️ טלפון סבא וסבתא',
            teamVehicleInfo: '🏎️ הקבוצה והרכב של {firstName}',
            team: '🏁 קבוצה',
            noTeamAssigned: 'אין קבוצה מוקצית',
            formStatus: '📋 סטטוס טופס',
            safetyDeclaration: '🛡️ הצהרת בטיחות',
            signed: '✅ חתום',
            pending: '⏳ ממתין',
            racingVehicleAssignment: 'הקצאת רכב מירוצים',
            noVehicleAssigned: 'אין רכב מוקצה',
            readyForAssignment: 'מוכן להקצאה!',
            licensePlate: 'לוחית רישוי:',
            type: 'סוג:',
            battery: 'סוללה:',
            status: 'סטטוס:',
            vehicleActive: '✅ פעיל',
            vehicleInactive: '❌ לא פעיל',
            viewVehicle: 'צפה ברכב',
            notesComments: '💬 הערות והתבוננויות של {firstName}',
            parentComments: '👨‍👩‍👧‍👦 הערות הורים',
            organizationComments: '🏢 הערות ארגון',
            teamLeaderComments: '👨‍🏫 הערות מנהיג קבוצה',
            additionalNotes: '🗒️ הערות נוספות',
            teamNotesHistory: '👨‍🏫 היסטוריית הערות צוות',
            noComments: 'אין הערות',
            noAdditionalNotes: 'אין הערות נוספות'
        },

        vehicles: {
            title: 'רכבי מירוץ',
            addVehicle: 'הוסף רכב',
            addNewVehicle: 'הוסף רכב חדש',
            refresh: 'רענן',
            exportVehicles: 'ייצא רכבים',
            totalVehicles: 'סך הרכבים',
            activeVehicles: 'רכבים פעילים',
            inUse: 'בשימוש',
            available: 'זמין',
            inFleet: 'בצי',
            readyToRace: 'מוכן למירוץ',
            currentlyRacing: 'במירוץ כעת',
            readyForAssignment: 'מוכן להקצאה',
            searchPlaceholder: 'חפש לפי יצרן, דגם, לוחית רישוי או קבוצה...',
            searchVehicles: 'חפש רכבים',
            clearSearch: 'נקה חיפוש',
            teamFilter: 'קבוצה',
            statusFilter: 'סטטוס',
            allTeams: 'כל הקבוצות',
            unassigned: 'לא מוקצה',
            allStatus: 'כל הסטטוסים',
            active: 'פעיל',
            inactive: 'לא פעיל',
            showing: 'מציג',
            of: 'מתוך',
            vehicles: 'רכבים',
            matching: 'התואמים ל',
            inTeam: 'בקבוצה',
            withStatus: 'עם סטטוס',
            loadingVehicles: 'טוען רכבים...',
            noVehiclesFound: 'לא נמצאו רכבים',
            noVehiclesMatch: 'אין רכבים התואמים למסננים הנוכחיים.',
            noVehiclesAdded: 'עדיין לא נוספו רכבים.',
            addFirstVehicle: 'הוסף רכב ראשון',
            failedToLoad: 'כשל בטעינת רכבים. אנא נסה שוב.',
            table: {
                vehicle: 'רכב',
                team: 'קבוצה',
                licensePlate: 'לוחית רישוי',
                status: 'סטטוס',
                currentUser: 'משתמש נוכחי',
                battery: 'סוללה',
                actions: 'פעולות'
            },
            status: {
                active: 'פעיל',
                inactive: 'לא פעיל',
                inUse: 'בשימוש',
                available: 'זמין',
                assigned: 'מוקצה'
            },
            actions: {
                view: 'צפה',
                edit: 'ערוך',
                delete: 'מחק',
                viewVehicle: 'צפה ברכב',
                editVehicle: 'ערוך רכב',
                deleteVehicle: 'מחק רכב'
            },
            make: 'יצרן',
            model: 'דגם',
            driveType: 'סוג הנעה',
            steeringType: 'סוג הגה',
            batteryType: 'סוג סוללה',
            photo: 'תמונה',
            noPhoto: 'אין תמונה',
            unknownTeam: 'קבוצה לא ידועה',
            notAvailable: 'לא זמין',
            delete: {
                confirm: 'האם אתה בטוח שברצונך למחוק את {vehicleName}?',
                warningAssigned: 'אזהרה: רכב זה מוקצה כרגע לרוכב. מחיקתו תסיר את ההקצאה.',
                cannotUndo: 'פעולה זו בלתי הפיכה.',
                success: '{vehicleName} נמחק בהצלחה.',
                failed: 'כשל במחיקת {vehicleName}: {error}',
                noPermission: 'אין לך הרשאה למחוק רכבים.'
            },
            deleting: 'מוחק...',
            mobile: {
                licensePlate: 'לוחית רישוי',
                currentUser: 'משתמש נוכחי',
                battery: 'סוללה',
                team: 'קבוצה'
            },
            permissions: {
                noPermissionEdit: 'אין לך הרשאה לערוך רכבים.',
                noPermissionDelete: 'אין לך הרשאה למחוק רכבים.',
                onlyAdminsCanDelete: 'רק מנהלים יכולים למחוק רכבים.'
            }
        },

        gallery: {
            title: 'גלריה',
            allPhotos: 'כל התמונות',
            events: 'אירועים',
            races: 'מרוצים',
            teams: 'קבוצות',
            awards: 'טקסי הוקרה',
            uploadPhotos: 'העלה תמונות',
            noPhotos: 'לא נמצאו תמונות באלבום זה.',
            backToMainGallery: 'חזור לגלריה הראשית',
            refresh: 'רענן',
            uploading: 'מעלה...',
            tryAgain: 'נסה שוב',
            loadingPhotos: 'טוען תמונות...',
            generalPhotos: 'תמונות כלליות',
            eventAlbum: 'אלבום {eventName}',
            smallView: 'תצוגה קטנה',
            mediumView: 'תצוגה בינונית',
            largeView: 'תצוגה גדולה',
            noPhotosFound: 'לא נמצאו תמונות',
            noPhotosUploaded: 'עדיין לא הועלו תמונות.',
            albumEmpty: 'האלבום הזה ריק.',
            uploadFirstPhoto: 'העלה תמונה ראשונה',
            from: 'מ:',
            uploaded: 'הועלה:',
            size: 'גודל:',
            position: 'מיקום:',
            of: 'מתוך',
            download: 'הורד',
            delete: 'מחק',
            accessDenied: 'גישה נדחתה',
            noPermissionView: 'אין לך הרשאה לצפות בגלריה.',
            failedToLoad: 'כשל בטעינת הגלריה. אנא נסה שוב.',
            noPermissionUpload: 'אין לך הרשאה להעלות תמונות.',
            noPermissionDelete: 'אין לך הרשאה למחוק תמונות.',
            deleteConfirm: 'האם אתה בטוח שברצונך למחוק את התמונה הזו? פעולה זו בלתי הפיכה.',
            deleteSuccess: 'התמונה נמחקה בהצלחה.',
            deleteFailed: 'כשל במחיקת התמונה. אנא נסה שוב.',
            uploadSuccess: 'הועלו בהצלחה {count} תמונות.',
            uploadFailed: 'כשל בהעלאת תמונות. אנא נסה שוב.',
            downloadFailed: 'כשל בהורדת התמונה. אנא נסה שוב.'
        },

        account: {
            title: 'החשבון שלי',
            profile: 'מידע אישי',
            security: 'הגדרות אבטחה',
            preferences: 'העדפות',
            editProfile: 'ערוך פרופיל',
            fullName: 'שם מלא',
            email: 'כתובת אימייל',
            phone: 'מספר טלפון',
            organization: 'ארגון',
            bio: 'ביוגרפיה',
            saveChanges: 'שמור שינויים',
            cancel: 'בטל'
        },

        forms: {
            title: 'ניהול טפסים',
            manage: 'נהל טפסים',
            description: 'עמוד זה יכיל פונקציונליות ניהול טפסים כולל:',
            createNew: 'צור טפסים חדשים',
            editExisting: 'ערוך טפסים קיימים',
            viewSubmissions: 'צפה בהגשות טפסים',
            templates: 'תבניות טפסים',
            analytics: 'ניתוח טפסים',
            createNewForm: 'צור טופס חדש',
            viewTemplates: 'צפה בתבניות'
        },

        backup: {
            title: 'גיבוי וסנכרון',
            databaseBackup: 'גיבוי מסד נתונים',
            description: 'צור ונהל גיבויים של נתוני האפליקציה שלך.',
            createNew: 'צור גיבוי חדש',
            viewHistory: 'צפה בהיסטוריית גיבויים',
            recentBackups: 'גיבויים אחרונים',
            noBackups: 'עדיין לא נוצרו גיבויים. לחץ על "צור גיבוי חדש" כדי להתחיל.',
            cloudSync: 'הגדרות סנכרון ענן',
            configurSync: 'הגדר סנכרון עם שירותי אחסון בענן.',
            googleDrive: 'גוגל דרייב',
            dropbox: 'דרופבוקס',
            status: 'סטטוס',
            notConnected: 'לא מחובר',
            connect: 'התחבר',
            automatedSchedule: 'לוח זמנים אוטומטי לגיבוי',
            setSchedule: 'הגדר גיבויים אוטומטיים על בסיס קבוע.',
            daily: 'יומי',
            weekly: 'שבועי',
            monthly: 'חודשי',
            custom: 'מותאם אישית',
            saveSettings: 'שמור הגדרות'
        },

        import: {
            title: 'ייבוא וייצוא נתונים',
            importData: 'ייבוא נתונים',
            importDescription: 'העלה קבצי נתונים כדי לייבא מידע למערכת.',
            selectDataType: 'בחר סוג נתונים לייבוא:',
            selectFile: 'בחר קובץ (CSV או Excel):',
            users: 'משתמשים',
            kids: 'ילדים',
            teams: 'קבוצות',
            events: 'אירועים',
            selectedFile: 'קובץ נבחר:',
            size: 'גודל:',
            overwriteRecords: 'דרוס רשומות קיימות',
            skipHeader: 'דלג על שורת כותרת',
            importButton: 'ייבא נתונים',
            exportData: 'ייצוא נתונים',
            exportDescription: 'הורד נתונים מהמערכת כקבצי CSV או Excel.',
            selectExportType: 'בחר סוג נתונים לייצוא:',
            allData: 'כל הנתונים',
            exportFormat: 'פורמט ייצוא:',
            csv: 'CSV',
            excel: 'Excel',
            includeHeaders: 'כלול שורת כותרת',
            includeTimestamp: 'כלול חותמת זמן בשם הקובץ',
            exportButton: 'ייצא נתונים',
            recentActivity: 'פעילות אחרונה',
            usersImport: 'ייבוא משתמשים',
            eventsExport: 'ייצוא אירועים',
            teamsImport: 'ייבוא קבוצות',
            daysAgo: 'לפני {count} ימים',
            weekAgo: 'לפני שבוע',
            success: 'הצליח',
            error: 'שגיאה',
            recordsImported: '{count} רשומות יובאו',
            exportedAs: 'יוצא כ-{filename}',
            invalidFormat: 'פורמט לא תקין בשורה {row}',
            importingData: 'מייבא נתוני {type} מ-{filename}',
            exportingData: 'מייצא נתוני {type}'
        },

        export: {
            title: 'ייצוא נתונים',
            description: 'הורד נתונים כקבצי Excel או CSV',
            selectFormat: 'בחר פורמט',
            excel: 'Excel (XLSX)',
            csv: 'CSV',
            includeHeaders: 'כלול כותרות',
            fileName: 'שם קובץ',
            exporting: 'מייצא...',
            success: 'הייצוא הושלם בהצלחה!',
            failed: 'הייצוא נכשל: {error}',
            downloadStarted: 'ההורדה החלה...',
            noData: 'אין נתונים לייצוא'
        },

        analytics: {
            pageTitle: 'לוח בקרת ניתוח מירוצים',
            raceControlTitle: '🏁 אנליטיקת בקרת מירוץ',
            subtitle: 'תובנות נתונים מקיפות עבור תוכנית המירוצים שלך',
            lastUpdated: 'עודכן לאחרונה',
            refreshData: 'רענן נתונים',
            loadingAnalytics: 'טוען נתוני אנליטיקה...',
            loadingOverview: 'טוען סקירה כללית...',
            loadingVehicleAnalytics: 'טוען אנליטיקת רכבים...',
            loadingTeamAnalytics: 'טוען אנליטיקת קבוצות...',
            loadingParticipationAnalytics: 'טוען אנליטיקת השתתפות...',
            loadingMaintenanceData: 'טוען נתוני תחזוקה...',
            failedToLoad: 'כשל בטעינת נתוני אנליטיקה. אנא נסה שוב.',

            tabs: {
                overview: 'סקירה כללית',
                vehicles: 'רכבים',
                teams: 'קבוצות',
                participation: 'אירועים',
                maintenance: 'תחזוקה',
                overviewDesc: 'בריאות המערכת ומדדי ביצוע מרכזיים',
                vehiclesDesc: 'שימוש ותחזוקה',
                teamsDesc: 'ביצועים וקיבולת',
                participationDesc: 'השתתפות ומעורבות',
                maintenanceDesc: 'התראות והמלצות'
            },

            overview: {
                totalVehicles: 'סך הרכבים',
                totalRacers: 'סך הרוכבים',
                racingTeams: 'קבוצות מירוץ',
                events: 'אירועים',
                active: 'פעילים',
                upcoming: 'קרובים',
                kpiTitle: 'מדדי ביצוע מרכזיים',
                vehicleUtilization: 'ניצול רכבים',
                teamCapacity: 'קיבולת קבוצות',
                systemHealth: 'בריאות המערכת',
                participation: 'השתתפות',
                vehicleUtilizationDesc: 'אחוז הרכבים הנמצאים כעת בשימוש',
                teamCapacityDesc: 'חברים נוכחיים לעומת קיבולת מקסימלית',
                systemHealthDesc: 'סטטוס תפעולי כולל של המערכת',
                participationDesc: 'רוכבים פעילים עם טפסים מושלמים'
            },

            vehicles: {
                fleetOverview: '🚗 סקירת קבוצת הרכבים',
                fleetStatus: 'סטטוס קבוצת הרכבים',
                totalVehicles: 'סך הרכבים',
                currentlyInUse: 'כעת בשימוש',
                available: 'זמינים',
                utilizationTitle: '📊 ניצול רכבים',
                mostUsed: '🏆 הרכבים הנפוצים ביותר',
                usageByTeam: '📈 שימוש לפי קבוצה',
                assignments: 'הקצאות',
                inUse: '🔴 בשימוש',
                vehiclesCount: 'רכבים',
                utilized: 'מנוצלים',
                batteryStatus: '🔋 סטטוס תחזוקת סוללות',
                needsReplacement: '🚨 דורש החלפה',
                monitorClosely: '⚠️ מעקב צמוד',
                daysOld: 'ימים'
            },

            teams: {
                performanceOverview: '👥 סקירת ביצועי קבוצות',
                teamStatistics: 'סטטיסטיקות קבוצות',
                totalTeams: 'סך הקבוצות',
                averageTeamSize: 'גודל קבוצה ממוצע',
                totalCapacity: 'קיבולת כוללת',
                capacityUtilization: '📊 ניצול קיבולת',
                members: 'חברים',
                instructors: 'מדריכים',
                vehicleDistribution: '🚗 חלוקת רכבים',
                ratio: 'יחס'
            },

            participation: {
                eventsOverview: '🏁 סקירת אירועים',
                totalEvents: 'סך האירועים',
                upcomingEvents: 'קרובים',
                completedEvents: 'הושלמו',
                avgParticipation: 'השתתפות ממוצעת',
                mostActiveRacers: '🏆 הרוכבים הפעילים ביותר',
                allTimeLeaders: 'מובילים בכל הזמנים',
                recentActivity: 'פעילות אחרונה (30 ימים)',
                eventsCount: 'אירועים',
                recent: 'אחרונים',
                recentEvents: '📅 אירועים אחרונים',
                participants: 'משתתפים',
                teams: 'קבוצות'
            },

            maintenance: {
                urgentAlerts: '🚨 התראות תחזוקה דחופות',
                batteryReplacement: 'נדרשת החלפת סוללה',
                batteryAge: 'הסוללה בת {daysOld} ימים',
                batteryType: 'סוג',
                priorityHigh: 'גבוהה',
                batteriesToMonitor: '⚠️ סוללות לעקוב אחריהן',
                priorityMedium: 'בינונית',
                systemRecommendations: '💡 המלצות מערכת',
                healthIndicators: '📊 מחווני בריאות מערכת',
                vehicleHealth: 'בריאות רכבים',
                teamHealth: 'בריאות קבוצות',
                teamsWithoutVehicles: 'קבוצות ללא רכבים',
                teamsCount: '{count} קבוצות שאין להן רכבים מוקצים',
                actionLabel: 'פעולה',
                assignVehiclesAction: 'הקצה רכבים לקבוצות או שקול חלוקה מחדש של רכבים'
            }
        },

        common: {
            clickToView: 'לחץ לצפייה',
            filterApplied: 'פילטר מופעל',
            searchApplied: 'חיפוש מופעל',
            loadingPermissions: 'טוען הרשאות...',
            permissionDenied: 'הרשאה נדחתה',
            error: 'שגיאה',
            noDataFound: 'לא נמצאו נתונים',
            selectAll: 'בחר הכל',
            assignTo: 'הקצה ל',
            removeFrom: 'הסר מ',
            unlimited: 'ללא הגבלה',
            notAvailable: 'לא זמין'
        },

        general: {
            loading: 'טוען...',
            save: 'שמור',
            cancel: 'בטל',
            edit: 'ערוך',
            delete: 'מחק',
            view: 'צפה',
            close: 'סגור',
            yes: 'כן',
            no: 'לא',
            confirm: 'אשר',
            search: 'חפש'
        },

        language: {
            english: 'English',
            hebrew: 'עברית',
            selectLanguage: 'בחר שפה'
        },

        login: {
            appTitle: 'אפליקציית פאראגרוטראלי',
            title: 'התחברות',
            email: 'אימייל',
            password: 'סיסמה',
            emailPlaceholder: 'הכנס את האימייל שלך',
            passwordPlaceholder: 'הכנס את הסיסמה שלך',
            show: 'הצג',
            hide: 'הסתר',
            signIn: 'התחבר',
            signingIn: 'מתחבר...',
            forgotPassword: 'שכחת סיסמה?',
            mobileSignIn: 'התחבר עם מספר נייד',
            googleSignIn: 'התחבר עם גוגל',
            contactUs: 'צור קשר',
            error: 'כשל בהתחברות. אנא בדוק את פרטי ההתחברות שלך.'
        },

        status: {
            active: 'פעיל',
            pending: 'ממתין',
            completed: 'הושלם',
            cancelled: 'בוטל'
        }
    }
};

// Create the context
const LanguageContext = createContext();

// Custom hook to use the language context
export const useLanguage = () => {
    const context = useContext(LanguageContext);
    if (!context) {
        throw new Error('useLanguage must be used within a LanguageProvider');
    }
    return context;
};

// Language provider component
export const LanguageProvider = ({ children }) => {
    // Get initial language from localStorage or default to English
    const getInitialLanguage = () => {
        if (typeof window !== 'undefined') {
            const savedLanguage = localStorage.getItem('charity-app-language');
            if (savedLanguage && Object.values(LANGUAGES).includes(savedLanguage)) {
                return savedLanguage;
            }
        }
        return LANGUAGES.ENGLISH;
    };

    const [currentLanguage, setCurrentLanguage] = useState(getInitialLanguage);

    // Function to apply an RTL/LTR direction to a document
    const applyDirection = (language) => {
        if (typeof document !== 'undefined') {
            const isRTL = language === LANGUAGES.HEBREW;
            document.documentElement.dir = isRTL ? 'rtl' : 'ltr';
            document.documentElement.lang = language;

            // Add/remove RTL class to the body for additional styling
            if (isRTL) {
                document.body.classList.add('rtl');
                document.body.classList.remove('ltr');
            } else {
                document.body.classList.add('ltr');
                document.body.classList.remove('rtl');
            }
        }
    };

    // Effect to handle language changes
    useEffect(() => {
        // Apply direction
        applyDirection(currentLanguage);

        // Save language preference to localStorage
        if (typeof window !== 'undefined') {
            localStorage.setItem('charity-app-language', currentLanguage);
        }
    }, [currentLanguage]);

    // Function to change language
    const changeLanguage = (newLanguage) => {
        if (Object.values(LANGUAGES).includes(newLanguage)) {
            setCurrentLanguage(newLanguage);
        }
    };

    // Helper function to get nested value from object using dot notation
    const getNestedValue = (obj, path) => {
        return path.split('.').reduce((current, key) => {
            return current && current[key] !== undefined ? current[key] : undefined;
        }, obj);
    };

    // Function to get translation with interpolation support and nested keys
    const t = (key, defaultValue = '', interpolations = {}) => {
        // Handle nested keys (e.g., 'teams.teamOption')
        let translation = getNestedValue(translations[currentLanguage], key);

        // If not found, try fallback to default value or key itself
        if (translation === undefined) {
            translation = defaultValue || key;
        }

        // Handle interpolations like {teamName}, {memberCount}, etc.
        if (interpolations && Object.keys(interpolations).length > 0) {
            return translation.replace(/{(\w+)}/g, (match, placeholder) => {
                return interpolations[placeholder] !== undefined ? interpolations[placeholder] : match;
            });
        }

        return translation;
    };

    // Computed values
    const isRTL = currentLanguage === LANGUAGES.HEBREW;
    const isHebrew = currentLanguage === LANGUAGES.HEBREW;
    const isEnglish = currentLanguage === LANGUAGES.ENGLISH;

    // Context value
    const value = {
        // Current state
        currentLanguage,
        isRTL,
        isHebrew,
        isEnglish,

        // Functions
        changeLanguage,
        t,

        // Constants
        LANGUAGES
    };

    return (
        <LanguageContext.Provider value={value}>
            {children}
        </LanguageContext.Provider>
    );
};

export default LanguageContext;